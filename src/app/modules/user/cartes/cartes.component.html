<div class="flex flex-col items-center justify-center p-6 mt-5">

  <!-- Boutons en ligne -->
  <div class="flex flex-row gap-4 mb-6">
    <button routerLink="/user/cartes/create"
      class="relative flex items-center justify-center px-6 py-3 text-lg font-semibold text-blue-700 transition-all duration-300 bg-blue-100 border border-blue-400 rounded-full shadow-lg">
      <mat-icon>add</mat-icon>
      Créer une Carte Mémoire
    </button>

  </div>

  <!-- Message -->
  <div class="flex items-center justify-center w-full">
    <h1>{{ message }}</h1>
  </div>

  <!-- Cartes -->
  <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4">
    <div *ngFor="let carte of cartes"
      class="relative w-full max-w-[320px] border border-blue-500 shadow-lg cursor-pointer snap-start transition-all duration-300 group hover:scale-105 hover:shadow-2xl rounded-2xl bg-white p-6 flex flex-col gap-5">

      <!-- Delete Icon -->
      <button (click)="deleteCarte(carte._id)"
        class="absolute text-blue-500 transition top-3 right-3 hover:text-red-500">
        <span class="material-icons">delete</span>
      </button>

      <!-- Icon + Title -->
      <div class="flex items-start gap-4">
        <svg height="50px" width="50px" viewBox="-0.5 0 25 25" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_iconCarrier">
            <path d="M22 9.96997H2" stroke="#5271FF" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round"></path>
            <path d="M5 18.9199H11" stroke="#5271FF" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round"></path>
            <path
              d="M18 3.91992H6C3.79086 3.91992 2 5.71078 2 7.91992V17.9199C2 20.1291 3.79086 21.9199 6 21.9199H18C20.2091 21.9199 22 20.1291 22 17.9199V7.91992C22 5.71078 20.2091 3.91992 18 3.91992Z"
              stroke="#5271FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </g>
        </svg>

        <div class="flex flex-col">
          <h2 class="text-lg font-semibold text-gray-800">{{ carte.titre }}</h2>
          <div class="text-sm text-gray-600">
            <p><strong>Question:</strong> {{ carte.questions_reponses[0]?.question }}</p>
            <p><strong>Réponse:</strong> {{ carte.questions_reponses[0]?.['réponse'] | slice:0:100 }}{{ carte.questions_reponses[0]?.['réponse']?.length > 100 ? '...' : '' }}</p>
          </div>
        </div>
      </div>

      <!-- Boutons d’action -->
      <div class="flex gap-2">
        <button routerLink="/user/cartes/{{ carte._id }}"
          class="px-4 py-2 text-sm font-semibold text-blue-700 transition-all bg-blue-100 border border-blue-400 rounded-full">
          Modifier
        </button>
        <button routerLink="/user/reviser-carte/{{ carte._id }}"
          class="px-4 py-2 text-sm font-semibold text-blue-700 transition-all bg-blue-100 border border-blue-400 rounded-full">
          Lancer la carte mémoire
        </button>
      </div>

    </div>
  </div>

</div>
