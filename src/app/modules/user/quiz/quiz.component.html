<div class="flex flex-col items-center justify-center p-6 mt-5">

  <button routerLink="/user/quiz/create"
    class="relative flex items-center justify-center px-6 py-3 mb-6 text-lg font-semibold text-blue-700 transition-all duration-300 bg-blue-100 border border-blue-400 rounded-full shadow-lg">
    <mat-icon>add</mat-icon>
    Cr√©er un Quiz
  </button>

  <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4">

    <div *ngFor="let quiz of quizs"
      class="relative service-card w-[300px] border-2 border-[#5271FF] shadow-xl
             cursor-pointer snap-start shrink-0 py-6 px-6 bg-white flex flex-col
             gap-4 rounded-2xl transition-all duration-300 group hover:scale-105 hover:shadow-2xl">

      <!-- Delete Icon -->
      <button (click)="deleteQuiz(quiz._id)" class="absolute top-2 right-2 text-[#5271FF] hover:text-[#5271FF]">
        <span class="material-icons">delete</span>
      </button>

      <!-- Header -->
      <div class="flex items-center gap-3">
        <svg fill="#5271FF" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 31.646 31.646" xml:space="preserve"
          height="20px" width="20px">
          <g id="SVGRepo_iconCarrier">
            <g>
              <g>
                <path d="M1.176,7.401h7.403V0H1.176V7.401z M2.466,1.29h4.822v4.822H2.466V1.29z"></path>
                <path d="M1.176,15.504h7.403V8.101H1.176V15.504z M2.466,9.392h4.822v4.821H2.466V9.392z"></path>
                <path d="M1.176,23.573h7.403V16.17H1.176V23.573z M2.466,17.46h4.822v4.822H2.466V17.46z"></path>
                <path d="M1.176,31.646h7.403v-7.403H1.176V31.646z M2.466,25.533h4.822v4.822H2.466V25.533z"></path>
                <rect x="10.563" y="1.488" width="19.423" height="1.45"></rect>
                <rect x="10.563" y="4.067" width="13.943" height="1.451"></rect>
                <rect x="10.563" y="9.146" width="19.423" height="1.45"></rect>
                <rect x="10.563" y="11.725" width="13.943" height="1.45"></rect>
                <rect x="11.046" y="16.804" width="19.423" height="1.45"></rect>
                <rect x="10.563" y="19.383" width="13.943" height="1.45"></rect>
                <rect x="10.563" y="24.462" width="19.423" height="1.45"></rect>
                <rect x="10.563" y="27.041" width="13.943" height="1.45"></rect>
              </g>
            </g>
          </g>
        </svg>
        <h2 class="text-xl font-extrabold text-black/90">{{ quiz.titre }}</h2>
      </div>

      <!-- Quiz Content -->
      <div class="flex flex-col gap-3 text-black/70">
        <p class="text-base"><strong>Score :</strong> {{ quiz.correctAnswers }} / {{ quiz.totalQuestions }}</p>
        <p class="text-base"><strong>Date :</strong> {{ quiz.date_score | date: 'dd/MM/yyyy HH:mm' }}</p>

        <!-- Quiz Type Badge -->
        <div class="flex items-center justify-center px-4 py-2 text-sm font-semibold rounded-full w-fit"
          [ngClass]="{
            'bg-blue-100 text-blue-700 border border-blue-400': quiz.type === 'multiple-choice',
            'bg-green-100 text-green-700 border border-green-400': quiz.type === 'true-false',
            'bg-purple-100 text-purple-700 border border-purple-400': quiz.type === 'open-ended'
          }">
          {{ quiz.type | titlecase }}
        </div>

        <!-- Boutons "Modifier" et "Lancer le quiz" en ligne -->
        <div class="flex gap-2 mt-2">
          <button routerLink="/user/quiz/{{ quiz._id }}"
            class="px-5 py-2 text-sm font-semibold text-blue-700 transition-all bg-blue-100 border border-blue-400 rounded-full">
            Modifier
          </button>
          <button [routerLink]="'/user/passer-quiz/' + quiz._id"
            class="px-5 py-2 text-sm font-semibold text-blue-700 transition-all bg-blue-100 border border-blue-400 rounded-full">
            Lancer le quiz
          </button>
        </div>

      </div>
    </div>
  </div>
</div>
